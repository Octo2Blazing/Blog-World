<%- include("./partials/header")  %>

<body >
    <%- include("./partials/navbar")  %>
    <div id="template">
    <div style="min-height: 72vh;" id="newTemplate">
        <% if(locals.data) {%>
            <p class="current-post my-container">Your current post is <%= data.length %></p>
            <div class="my-container">
                <ul class="post-container">
                <% data.forEach(blog=>{ %>
                    <li class="post">
                        <div class="header">
                            <a href="/blog-post/<%= blog["title"] %>">
                                <h4><%= blog["title"] %></h4>
                            </a>
                            <button class="three-dot">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="12" cy="5" r="2" fill="currentColor"/>
                                    <circle cx="12" cy="12" r="2" fill="currentColor"/>
                                    <circle cx="12" cy="19" r="2" fill="currentColor"/>
                                </svg>         
                                <div class="btns">
                                    <a href="#" class="update" onclick="updatePost('<%= blog['title']%>')">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M12 2c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10zm-1.646 15.354a.5.5 0 0 1-.708 0L5.768 9.768l1.414-1.414L11.06 15.94l-4.58 4.58a.5.5 0 0 1-.708 0l-1-1a.5.5 0 0 1 0-.708l4.58-4.58 7.586 7.586a.5.5 0 0 1 0 .708l-1 1z"/>
                                        </svg>
                                        Edit
                                    </a>
                                    <a href="#" class="delete" onclick="deletePost('<%= blog['title']%>')">
                                        <svg width="19" height="25" viewBox="0 0 19 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M15.1 23.5H3.7C2.7 23.5 2 22.7 2 21.8V6.79999H16.8V21.7C16.8 22.7 16 23.5 15.1 23.5Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M17.8 6.2V4.4C17.8 3.7 17.2 3.1 16.5 3.1H12.8L12.4 1.6C12.2 1.2 11.9 1 11.4 1H7.4C7 1 6.6 1.2 6.4 1.6L6 3H2.3C1.6 3 1 3.6 1 4.3V6.2C1 6.5 1.3 6.8 1.6 6.8H17.2C17.6 6.8 17.8 6.5 17.8 6.2Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M6.2 10.4V19.9" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M9.4 10.4V19.9" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M12.6 10.4V19.9" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                        Delete
                                    </a>
                                </div>                           
                            </button>
                        </div>
                        
                        <a href="/blog-post/<%= blog["title"] %>">
                            <% if(Array.isArray(blog["filesBase64"])) { %>
                                <img src="<%= blog["filesBase64"][0] %>" alt="" draggable="false">
                            <% } else { %>
                                <img src="<%= blog["filesBase64"] %>" alt="">
                            <% } %>
                        </a>
                        
                    </li>
                <% }) %>
                </ul>
            </div>
        <% } %>
    </div>
    </div>
    <%- include("./partials/footer") %>
    <!-- <script src="https://cdn.jsdelivr.net/npm/ejs@3.1.6/ejs.min.js"></script> -->
    <script src="/api/app.js"></script>
    <script src="/styles/index.js"></script>

</body>